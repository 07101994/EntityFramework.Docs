<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Backing Fields </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Backing Fields ">
    <meta name="generator" content="docfx 2.5.4.0">
    
    <link rel="shortcut icon" href="../favicon.ico">
    <link rel="stylesheet" href="../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../styles/docfx.css">
    <link rel="stylesheet" href="../styles/main.css">
    <meta property="docfx:navrel" content="../toc.html">
    <meta property="docfx:tocrel" content="../toc.html">
    
  </head>
  <body data-spy="scroll" data-target="#affix">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              <a class="navbar-brand" href="../index.html">
                <img id="logo" class="svg" src="../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        <div class="article row grid">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="modeling/backing-field">
              <h1 id="backing-fields" sourcefile="modeling/backing-field.md" sourcestartlinenumber="4" sourceendlinenumber="4">Backing Fields</h1>
              
<div class="WARNING sourceFile=" modeling/backing-field.md"="" sourcestartlinenumber="6" sourceendlinenumber="6" "=""><h5>Warning</h5><p sourcefile="modeling/backing-field.md" sourcestartlinenumber="7" sourceendlinenumber="7">This documentation is for EF Core. For EF6.x and earlier release see <a href="http://msdn.com/data/ef" sourcefile="modeling/backing-field.md" sourcestartlinenumber="7" sourceendlinenumber="7"><a href="http://msdn.com/data/ef" sourcefile="modeling/backing-field.md" sourcestartlinenumber="7" sourceendlinenumber="7">http://msdn.com/data/ef</a></a>.</p>
</div>
<p sourcefile="modeling/backing-field.md" sourcestartlinenumber="9" sourceendlinenumber="9">When a backing field is configured, EF will write directly to that field when materializing entity instances from the database (rather than using the property setter). This is useful when there is no property setter, or the setter contains logic that should not be executed when setting initial property values for existing entities being loaded from the database.</p>
<div class="WARNING sourceFile=" modeling/backing-field.md"="" sourcestartlinenumber="11" sourceendlinenumber="11" "=""><h5>Warning</h5><p sourcefile="modeling/backing-field.md" sourcestartlinenumber="12" sourceendlinenumber="12">The <code>ChangeTracker</code> has not yet been enabled to use backing fields when it needs to set the value of a property. This is only an issue for foreign key properties and generated properties - as the change tracker needs to propagate values into these properties. For these properties, a property setter must still be exposed.<a href="https://github.com/aspnet/EntityFramework/issues/4461" sourcefile="modeling/backing-field.md" sourcestartlinenumber="12" sourceendlinenumber="12">Issue #4461</a> is tracking enabling the <code>ChangeTracker</code> to write to backing fields for properties with no setter.</p>
</div>
<h2 id="conventions" sourcefile="modeling/backing-field.md" sourcestartlinenumber="14" sourceendlinenumber="14">Conventions</h2>
<p sourcefile="modeling/backing-field.md" sourcestartlinenumber="16" sourceendlinenumber="16"><strong>By convention, the following fields will be discovered as backing fields for a given property (listed in precedence order):</strong></p>
<ul sourcefile="modeling/backing-field.md" sourcestartlinenumber="18" sourceendlinenumber="22">
<li sourcefile="modeling/backing-field.md" sourcestartlinenumber="18" sourceendlinenumber="18"><p sourcefile="modeling/backing-field.md" sourcestartlinenumber="18" sourceendlinenumber="18"><propertyname> differing only by case<p>
</propertyname></li>
<li sourcefile="modeling/backing-field.md" sourcestartlinenumber="20" sourceendlinenumber="20"><p sourcefile="modeling/backing-field.md" sourcestartlinenumber="20" sourceendlinenumber="20">_<propertyname><p>
</propertyname></li>
<li sourcefile="modeling/backing-field.md" sourcestartlinenumber="22" sourceendlinenumber="22"><p sourcefile="modeling/backing-field.md" sourcestartlinenumber="22" sourceendlinenumber="22">m_<propertyname><p>
</propertyname></li>
</ul>
<!-- [!code-csharp[Main](samples/Modeling/Conventions/Samples/BackingField.cs?highlight=3,7,8,9,10,11)] -->
<pre sourcefile="modeling/backing-field.md" sourcestartlinenumber="25" sourceendlinenumber="38"><code class="lang-csharp">public class Blog
{
    private string _url;

    public int BlogId { get; set; }

    public string Url
    {
        get { return _url; }
        set { _url = value; }
    }
}
</code></pre><h2 id="data-annotations" sourcefile="modeling/backing-field.md" sourcestartlinenumber="40" sourceendlinenumber="40">Data Annotations</h2>
<p sourcefile="modeling/backing-field.md" sourcestartlinenumber="42" sourceendlinenumber="42">Backing fields cannot be configured with data annotations.</p>
<h2 id="fluent-api" sourcefile="modeling/backing-field.md" sourcestartlinenumber="44" sourceendlinenumber="44">Fluent API</h2>
<p sourcefile="modeling/backing-field.md" sourcestartlinenumber="46" sourceendlinenumber="46">There is no top level API for configuring backing fields, but you can use the Fluent API to set annotations that are used to store backing field information.</p>
<!-- [!code-csharp[Main](samples/Modeling/FluentAPI/Samples/BackingField.cs?highlight=7,8,9,15,18)] -->
<pre sourcefile="modeling/backing-field.md" sourcestartlinenumber="49" sourceendlinenumber="69"><code class="lang-csharp">class MyContext : DbContext
{
    public DbSet&lt;Blog&gt; Blogs { get; set; }

    protected override void OnModelCreating(ModelBuilder modelBuilder)
    {
        modelBuilder.Entity&lt;Blog&gt;()
            .Property(b =&gt; b.Url)
            .HasAnnotation(&quot;BackingField&quot;, &quot;_blogUrl&quot;);
    }
}

public class Blog
{
    private string _blogUrl;

    public int BlogId { get; set; }
    public string Url =&gt; _blogUrl;
}
</code></pre>
            </article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/shirhatti/EntityFramework.Docs/blob/export-qa-fixes/ef/modeling/backing-field.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Copyright Â© 2015-2016 Microsoft<br>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../styles/docfx.vendor.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
  </body>
</html>
