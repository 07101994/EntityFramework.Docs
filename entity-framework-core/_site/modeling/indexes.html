<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Indexes </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Indexes ">
    <meta name="generator" content="docfx 2.5.4.0">
    
    <link rel="shortcut icon" href="../favicon.ico">
    <link rel="stylesheet" href="../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../styles/docfx.css">
    <link rel="stylesheet" href="../styles/main.css">
    <meta property="docfx:navrel" content="../toc.html">
    <meta property="docfx:tocrel" content="../toc.html">
    
  </head>
  <body data-spy="scroll" data-target="#affix">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              <a class="navbar-brand" href="../index.html">
                <img id="logo" class="svg" src="../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        <div class="article row grid">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="modeling/indexes">
              <h1 id="indexes" sourcefile="modeling/indexes.md" sourcestartlinenumber="4" sourceendlinenumber="4">Indexes</h1>
              
<div class="WARNING sourceFile=" modeling/indexes.md"="" sourcestartlinenumber="6" sourceendlinenumber="6" "=""><h5>Warning</h5><p sourcefile="modeling/indexes.md" sourcestartlinenumber="7" sourceendlinenumber="7">This documentation is for EF Core. For EF6.x and earlier release see <a href="http://msdn.com/data/ef" sourcefile="modeling/indexes.md" sourcestartlinenumber="7" sourceendlinenumber="7"><a href="http://msdn.com/data/ef" sourcefile="modeling/indexes.md" sourcestartlinenumber="7" sourceendlinenumber="7">http://msdn.com/data/ef</a></a>.</p>
</div>
<p sourcefile="modeling/indexes.md" sourcestartlinenumber="9" sourceendlinenumber="9">Indexes are a common concept across many data stores. While their implementation in the data store may vary, they are used to make lookups based on a column (or set of columns) more efficient.</p>
<h2 id="conventions" sourcefile="modeling/indexes.md" sourcestartlinenumber="11" sourceendlinenumber="11">Conventions</h2>
<p sourcefile="modeling/indexes.md" sourcestartlinenumber="13" sourceendlinenumber="13">By convention, an index is created in each property (or set of properties) that are used as a foreign key.</p>
<h2 id="data-annotations" sourcefile="modeling/indexes.md" sourcestartlinenumber="15" sourceendlinenumber="15">Data Annotations</h2>
<p sourcefile="modeling/indexes.md" sourcestartlinenumber="17" sourceendlinenumber="17">Indexes can not be created using data annotations.</p>
<h2 id="fluent-api" sourcefile="modeling/indexes.md" sourcestartlinenumber="19" sourceendlinenumber="19">Fluent API</h2>
<p sourcefile="modeling/indexes.md" sourcestartlinenumber="21" sourceendlinenumber="21">You can use the Fluent API specify an index on a single property. By default, indexes are non-unique.</p>
<!-- [!code-csharp[Main](samples/Modeling/FluentAPI/Samples/Index.cs?highlight=7,8)] -->
<pre sourcefile="modeling/indexes.md" sourcestartlinenumber="24" sourceendlinenumber="41"><code class="lang-csharp">class MyContext : DbContext
{
    public DbSet&lt;Blog&gt; Blogs { get; set; }

    protected override void OnModelCreating(ModelBuilder modelBuilder)
    {
        modelBuilder.Entity&lt;Blog&gt;()
            .HasIndex(b =&gt; b.Url);
    }
}

public class Blog
{
    public int BlogId { get; set; }
    public string Url { get; set; }
}
</code></pre><p sourcefile="modeling/indexes.md" sourcestartlinenumber="43" sourceendlinenumber="43">You can also specify that an index should be unique, meaning that no two entities can have the same value(s) for the given property(s).</p>
<!-- [!code-csharp[Main](samples/Modeling/FluentAPI/Samples/IndexUnique.cs?highlight=3)] -->
<pre sourcefile="modeling/indexes.md" sourcestartlinenumber="46" sourceendlinenumber="50"><code class="lang-csharp">        modelBuilder.Entity&lt;Blog&gt;()
            .HasIndex(b =&gt; b.Url)
            .IsUnique();
</code></pre><p sourcefile="modeling/indexes.md" sourcestartlinenumber="52" sourceendlinenumber="52">You can also specify an index over more than one column.</p>
<!-- [!code-csharp[Main](samples/Modeling/FluentAPI/Samples/IndexComposite.cs?highlight=7,8)] -->
<pre sourcefile="modeling/indexes.md" sourcestartlinenumber="55" sourceendlinenumber="73"><code class="lang-csharp">class MyContext : DbContext
{
    public DbSet&lt;Person&gt; People { get; set; }

    protected override void OnModelCreating(ModelBuilder modelBuilder)
    {
        modelBuilder.Entity&lt;Person&gt;()
            .HasIndex(p =&gt; new { p.FirstName, p.LastName });
    }
}

public class Person
{
    public int PersonId { get; set; }
    public string FirstName { get; set; }
    public string LastName { get; set; }
}
</code></pre><div class="NOTE sourceFile=" modeling/indexes.md"="" sourcestartlinenumber="75" sourceendlinenumber="75" "=""><h5>Note</h5><p sourcefile="modeling/indexes.md" sourcestartlinenumber="76" sourceendlinenumber="76">There is only one index per distinct set of properties. If you use the Fluent API to configure an index on a set of properties that already has an index defined, either by convention or previous configuration, then you will be changing the definition of that index. This is useful if you want to further configure an index that was created by convention.</p>
</div>

            </article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/shirhatti/EntityFramework.Docs/blob/export-qa-fixes/ef/modeling/indexes.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Copyright Â© 2015-2016 Microsoft<br>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../styles/docfx.vendor.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
  </body>
</html>
