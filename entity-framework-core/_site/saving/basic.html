<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Basic Save </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Basic Save ">
    <meta name="generator" content="docfx 2.5.4.0">
    
    <link rel="shortcut icon" href="../favicon.ico">
    <link rel="stylesheet" href="../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../styles/docfx.css">
    <link rel="stylesheet" href="../styles/main.css">
    <meta property="docfx:navrel" content="../toc.html">
    <meta property="docfx:tocrel" content="../toc.html">
    
  </head>
  <body data-spy="scroll" data-target="#affix">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              <a class="navbar-brand" href="../index.html">
                <img id="logo" class="svg" src="../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        <div class="article row grid">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="saving/basic">
              <h1 id="basic-save" sourcefile="saving/basic.md" sourcestartlinenumber="4" sourceendlinenumber="4">Basic Save</h1>
              
<div class="WARNING sourceFile=" saving/basic.md"="" sourcestartlinenumber="6" sourceendlinenumber="6" "=""><h5>Warning</h5><p sourcefile="saving/basic.md" sourcestartlinenumber="7" sourceendlinenumber="7">This documentation is for EF Core. For EF6.x and earlier release see <a href="http://msdn.com/data/ef" sourcefile="saving/basic.md" sourcestartlinenumber="7" sourceendlinenumber="7"><a href="http://msdn.com/data/ef" sourcefile="saving/basic.md" sourcestartlinenumber="7" sourceendlinenumber="7">http://msdn.com/data/ef</a></a>.</p>
</div>
<p sourcefile="saving/basic.md" sourcestartlinenumber="9" sourceendlinenumber="9">Learn how to add, modify, and remove data using your context and entity classes.</p>
<div class="TIP sourceFile=" saving/basic.md"="" sourcestartlinenumber="11" sourceendlinenumber="11" "=""><h5>Tip</h5><p sourcefile="saving/basic.md" sourcestartlinenumber="12" sourceendlinenumber="12">You can view this article&#39;s <a href="https://github.com/aspnet/EntityFramework.Docs/tree/master/samples/Saving/Saving/Basics/" sourcefile="saving/basic.md" sourcestartlinenumber="12" sourceendlinenumber="12">sample</a> on GitHub.</p>
</div>
<h2 id="changetracker--savechanges" sourcefile="saving/basic.md" sourcestartlinenumber="14" sourceendlinenumber="14">ChangeTracker &amp; SaveChanges</h2>
<p sourcefile="saving/basic.md" sourcestartlinenumber="16" sourceendlinenumber="16">Each context instance has a <em>ChangeTracker</em> that is responsible for keeping track of changes that need to be written to the database. As you make changes to instances of your entity classes, these changes are recorded in the <em>ChangeTracker</em> and then written to the database when you call <em>SaveChanges</em>.</p>
<h2 id="adding-data" sourcefile="saving/basic.md" sourcestartlinenumber="18" sourceendlinenumber="18">Adding Data</h2>
<p sourcefile="saving/basic.md" sourcestartlinenumber="20" sourceendlinenumber="20">Use the <em>DbSet.Add</em> method to add new instances of your entity classes. The data will be inserted in the database when you call <em>SaveChanges</em>.</p>
<!-- [!code-csharp[Main](samples/Saving/Saving/Basics/Sample.cs)] -->
<pre sourcefile="saving/basic.md" sourcestartlinenumber="23" sourceendlinenumber="32"><code class="lang-csharp">        using (var db = new BloggingContext())
        {
            var blog = new Blog { Url = &quot;http://sample.com&quot; };
            db.Blogs.Add(blog);
            db.SaveChanges();

            Console.WriteLine(blog.BlogId + &quot;: &quot; +  blog.Url);
        }
</code></pre><h2 id="updating-data" sourcefile="saving/basic.md" sourcestartlinenumber="34" sourceendlinenumber="34">Updating Data</h2>
<p sourcefile="saving/basic.md" sourcestartlinenumber="36" sourceendlinenumber="36">EF will automatically detect changes made to an existing entity that is tracked by the context. This includes entities that you load/query from the database, and entities that were previously added and saved to the database.</p>
<p sourcefile="saving/basic.md" sourcestartlinenumber="38" sourceendlinenumber="38">Simply modify the values assigned to properties and then call <em>SaveChanges</em>.</p>
<!-- [!code-csharp[Main](samples/Saving/Saving/Basics/Sample.cs)] -->
<pre sourcefile="saving/basic.md" sourcestartlinenumber="41" sourceendlinenumber="48"><code class="lang-csharp">        using (var db = new BloggingContext())
        {
            var blog = db.Blogs.First();
            blog.Url = &quot;http://sample.com/blog&quot;;
            db.SaveChanges();
        }
</code></pre><h2 id="deleting-data" sourcefile="saving/basic.md" sourcestartlinenumber="50" sourceendlinenumber="50">Deleting Data</h2>
<p sourcefile="saving/basic.md" sourcestartlinenumber="52" sourceendlinenumber="52">Use the <em>DbSet.Remove</em> method to delete instances of you entity classes.</p>
<p sourcefile="saving/basic.md" sourcestartlinenumber="54" sourceendlinenumber="54">If the entity already exists in the database, it will be deleted during <em>SaveChanges</em>. If the entity has not yet been saved to the database (i.e. it is tracked as added) then it will be removed from the context and will no longer be inserted when <em>SaveChanges</em> is called.</p>
<!-- [!code-csharp[Main](samples/Saving/Saving/Basics/Sample.cs)] -->
<pre sourcefile="saving/basic.md" sourcestartlinenumber="57" sourceendlinenumber="64"><code class="lang-csharp">        using (var db = new BloggingContext())
        {
            var blog = db.Blogs.First();
            db.Blogs.Remove(blog);
            db.SaveChanges();
        }
</code></pre><h2 id="multiple-operations-in-a-single-savechanges" sourcefile="saving/basic.md" sourcestartlinenumber="66" sourceendlinenumber="66">Multiple Operations in a single SaveChanges</h2>
<p sourcefile="saving/basic.md" sourcestartlinenumber="68" sourceendlinenumber="68">You can combine multiple Add/Update/Remove operations into a single call to <em>SaveChanges</em>.</p>
<div class="NOTE sourceFile=" saving/basic.md"="" sourcestartlinenumber="70" sourceendlinenumber="70" "=""><h5>Note</h5><p sourcefile="saving/basic.md" sourcestartlinenumber="71" sourceendlinenumber="71">For most database providers, <em>SaveChanges</em> is transactional. This means  all the operations will either succeed or fail and the operations will never be left partially applied.</p>
</div>
<!-- [!code-csharp[Main](samples/Saving/Saving/Basics/Sample.cs)] -->
<pre sourcefile="saving/basic.md" sourcestartlinenumber="74" sourceendlinenumber="88"><code class="lang-csharp">        using (var db = new BloggingContext())
        {
            db.Blogs.Add(new Blog { Url = &quot;http://sample.com/blog_one&quot; });
            db.Blogs.Add(new Blog { Url = &quot;http://sample.com/blog_two&quot; });

            var firstBlog = db.Blogs.First();
            firstBlog.Url = &quot;&quot;;

            var lastBlog = db.Blogs.Last();
            db.Blogs.Remove(lastBlog);

            db.SaveChanges();
        }
</code></pre>
            </article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/shirhatti/EntityFramework.Docs/blob/export-qa-fixes/ef/saving/basic.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Copyright Â© 2015-2016 Microsoft<br>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../styles/docfx.vendor.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
  </body>
</html>
